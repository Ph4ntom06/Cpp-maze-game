1) Προεπιλεγμένη Κίνηση Ηρώων (Πριν τη Συνάντηση)
Κατά την αρχική φάση του παιχνιδιού, οι δύο ήρωες κινούνται ανεξάρτητα, χρησιμοποιώντας μια
λογική εξερεύνησης του λαβυρίνθου. Κάθε ήρωας επιλέγει ένα από τα διαθέσιμα γειτονικά
τετράγωνα που δεν έχουν επισκεφθεί ξανά και είναι προσπελάσιμα (isWalkable). Εάν δεν
υπάρχουν αχαρτογράφητες διαδρομές, ο ήρωας κάνει αναγκαστικά βήματα σε ήδη
επισκεμμένες θέσεις.
Έτσι επιτυγχάνεται μια πιο "έξυπνη" περιήγηση, αποφεύγοντας παγίδες και επαναλαμβανόμενες
διαδρομές.

Κίνηση Μετά τη Συνάντηση των Ηρώων
Όταν οι ήρωες βρεθούν δίπλα ο ένας στον άλλον (σε ακτίνα 1 τετραγώνου) και δεν είναι
παγιδευμένοι, τότε ενεργοποιείται η συνθήκη together = true. Σε εκείνο το σημείο εμφανίζεται
στο χάρτη η έξοδος (stairs = gameMaze.findStairs();) και οι ήρωες σταματούν την ανεξάρτητη
περιήγηση.
Από εκεί και πέρα, η κίνησή τους γίνεται συντονισμένη: κάθε ήρωας υπολογίζει τη διαφορά
θέσης του από την έξοδο και κάνει βήματα προς αυτήν, προσπαθώντας να την προσεγγίσει
ευθυγραμμισμένα (πρώτα οριζόντια, μετά κατακόρυφα ή συνδυαστικά), αποφεύγοντας εμπόδια.
Cpp

2)Το παιχνίδι είναι μια περιπέτεια σε λαβύρινθο όπου δύο ήρωες προσπαθούν να
συναντηθούν, να μαζέψουν ένα κλειδί και να βγουν από τον λαβύρινθο, αποφεύγοντας παγίδες.
Περιλαμβάνει λογική παγίδευσης, διάσωσης, συνεργασίας και αναγνώρισης της επιτυχίας ή
αποτυχίας.
Όλα έχουν οργανωθεί μέσω της κλάσης GameManager.
main.cpp – Είσοδος του Παιχνιδιού
● Διαβάζει το όνομα του αρχείου του χάρτη από τη γραμμή εντολών.
● Δημιουργεί ένα αντικείμενο τύπου GameManager με το αρχείο χάρτη.
● Καλεί την run() για να ξεκινήσει το loop του παιχνιδιού.
GameManager – Διαχείριση Παιχνιδιού
Constructor (GameManager::GameManager)
● Φορτώνει τον χάρτη από το αρχείο.

● Τοποθετεί τους 2 ήρωες σε απομακρυσμένα σημεία.
● Δημιουργεί παγίδες και τοποθετεί το κλειδί τυχαία.
init()
● Κλήση του ncurses (initscr) για να γίνει γραφική απεικόνιση.
● Αρχικοποιεί random τιμές και όλες τις οντότητες.
run() – Βασικό Game Loop
Εκτελείται μέχρι να κερδίσουν οι ήρωες ή να συμβεί μία από τις συνθήκες ήττας.
Για κάθε γύρο:
1. Έλεγχος νίκης ή ήττας πριν το clear(), ώστε να προλάβει να εμφανιστεί το
κατάλληλο μήνυμα.
2. Καθαρισμός οθόνης
3. Αν οι ήρωες συναντηθούν για πρώτη φορά:
○ Δημιουργείται η έξοδος (stairs)
○ Καθαρίζονται τοίχοι και απενεργοποιούνται οι παγίδες
4. Σχεδίαση χάρτη, παγίδων, κλειδιού
5. Κίνηση ηρώων:
○ Αν έχουν ενωθεί: κινούνται προς την έξοδο
○ Αν όχι: κινούνται ανεξάρτητα με "έξυπνη" εξερεύνηση (memory-based)
6. Σηκώνουν το κλειδί αν περάσουν από πάνω του
7. Παγίδες: ελέγχεται αν κάποιος πάτησε πάνω σε ενεργή παγίδα → παγιδεύεται
8. Διάσωση: αν κάποιος έχει το κλειδί και είναι δίπλα σε παγιδευμένο ήρωα, γίνεται
διάσωση
9. Εμφάνιση επόμενου frame με refresh()
Συνθήκες Νίκης & Ήττας
Ελέγχονται σε κάθε frame:
● Νίκη: Και οι 2 ήρωες πατούν στο τετράγωνο της εξόδου (μετά τη συνάντηση).
● Ήττα 1: Ήρωας που κρατάει το κλειδί παγιδεύεται (αν έχει μαζευτεί).
● Ήττα 2: Και οι 2 ήρωες είναι παγιδευμένοι.
● Ήττα 3: Έχουν περάσει 1000 γύροι.
Η Κίνηση των Ηρώων (Αναλυτικά)
● Πριν τη συνάντηση: κάθε ήρωας κινείται αυτόνομα, αποφεύγοντας επαναλήψεις με
χρήση visited λίστας.

● Μετά τη συνάντηση: ακολουθούν ευθεία πορεία προς την έξοδο, ανάλογα με το dx/dy,
αποφεύγοντας τοίχους.
Παγίδες και Διάσωση
● triggered / locked: Αν κάποιος ήρωας σταθεί πάνω στην παγίδα → παγιδεύεται.
● Αν άλλος ήρωας με κλειδί σταθεί δίπλα στην παγίδα: ενεργοποιείται tryUnlock(),
ελευθερώνει τον παγιδευμένο και χάνει το κλειδί.
Extra Προστασίες / Βελτιώσεις
● Προστέθηκε έλεγχος ώστε το παιχνίδι να μην χάνει αν το κλειδί δεν έχει μαζευτεί
ακόμα.
● Οι παγιδευμένοι ήρωες "αναγεννιούνται" στο τετράγωνο της παγίδας.
● Μνήμη επίσκεψης ηρώων (visited) για έξυπνη εξερεύνηση.
Κλάση maze – Διαχείριση του λαβυρίνθου
Περιγραφή: Αναλαμβάνει το διάβασμα του χάρτη από αρχείο (.dat), τη σχεδίαση στο
τερματικό, και την παροχή πληροφοριών για την κίνηση και τα αντικείμενα.
Βασικές Μέθοδοι:
● maze(filename): Φορτώνει τον χάρτη σε πίνακα χαρακτήρων.
● drawMap(): Εκτυπώνει τον τρέχοντα χάρτη με ncurses.
● isWalkable(x, y): Επιστρέφει true αν η θέση μπορεί να περπατηθεί.
● findStairs(): Εντοπίζει και επιστρέφει τη θέση της εξόδου ('L').
● clearInnerWalls(): Αφαιρεί τους τοίχους του εσωτερικού όταν ενωθούν οι ήρωες.
Κλάση hero – Αναπαράσταση ήρωα
Περιγραφή: Εκπροσωπεί κάθε ήρωα με σύμβολο ('G', 'S'), περιέχει τη θέση του, εάν είναι
παγιδευμένος, αν έχει κλειδί, και τη μνήμη των κινήσεών του.
Βασικές Ιδιότητες:
● x, y: Συντεταγμένες.
● hasKey: Αν κρατάει το κλειδί.
● isTrapped: Αν είναι παγιδευμένος.
● visited: Σύνολο συντεταγμένων για memory-based movement.
Βασικές Μέθοδοι:

● move(maze): Κίνηση ήρωα (πριν τη συνάντηση).
● setPosition(x, y): Αλλαγή θέσης.
● placeRandomly(maze): Τοποθέτηση σε έγκυρη θέση στον χάρτη.
● tryPickUp(key): Αν βρεθεί πάνω στο κλειδί → το συλλέγει.
● freeze() / unfreeze(): Παγιδεύει ή απελευθερώνει τον ήρωα.
● hasRescueKey(): Επιστρέφει αν ο ήρωας κρατάει το κλειδί διάσωσης.
Κλάση trap – Παγίδες στον χάρτη
Περιγραφή: Εκπροσωπεί μια παγίδα. Όταν ήρωας σταθεί πάνω της, ενεργοποιείται, παγιδεύει
και απαιτεί διάσωση. Μετά την ένωση των ηρώων, οι παγίδες απενεργοποιούνται.
Ιδιότητες:
● active: Αν είναι ενεργή.
● triggered: Αν έχει παγιδεύσει ήρωα.
● locked: Αν κλειδώθηκε (πρέπει να ξεκλειδωθεί).
Μέθοδοι:
● placeRandomly(maze): Τυχαία τοποθέτηση.
● checkTrigger(heroes): Αν ήρωας σταθεί πάνω της, τον παγιδεύει.
● tryUnlock(rescuer, victim): Ήρωας με κλειδί σώζει τον παγιδευμένο.
● deactivate(): Απενεργοποιεί την παγίδα (μετά τη συνάντηση).
Κλάση key – Το κλειδί διάσωσης
Περιγραφή: Αντικείμενο που τοποθετείται τυχαία στον χάρτη. Ένας ήρωας μπορεί να το
σηκώσει και να το χρησιμοποιήσει για να σώσει τον άλλο ήρωα.
Ιδιότητες:
● pickedUp: Αν έχει μαζευτεί.
Μέθοδοι:
● placeRandomly(maze): Τυχαία τοποθέτηση στο χάρτη.
● isPickedUp(): Αν έχει συλλεχθεί.
● pickUp(): Ορισμός της κατάστασης ως "συλλεγμένο".
